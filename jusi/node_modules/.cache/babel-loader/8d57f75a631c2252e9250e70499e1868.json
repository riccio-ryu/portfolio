{"ast":null,"code":"const BASE_URL = `https://api.odcloud.kr/api/GetStockSecuritiesInfoService/v1/getStockPriceInfo?resultType=json&serviceKey=GU%2FPw6QXvxX8rdXGsY9vDQWG3v8mr8imsKIAHd11KmEe0GOfu5NFoK4bv96cfhkwLKdy85VXG1mtXprIuY2HAw%3D%3D`;\nconst COUNT = `numOfRows`;\nconst PAGE = `pageNo`;\nconst ITEM = `isinCd`;\nexport function fetchStocks() {\n  return fetch(`${BASE_URL}&${COUNT}=20&${PAGE}=1`).then(response => response.json().then(res => res.response.body.items.item));\n}\nexport function fetchStockInfo(stockId) {\n  return fetch(`${BASE_URL}&${COUNT}=20&${PAGE}=1&${ITEM + '=' + stockId}`).then(response => response.json().then(res => res.response.body.items.item[0]));\n}\nexport function fetchStockHistory(stockId) {\n  const endDate = Math.floor(Date.now() / 1000);\n  const startDate = endDate - 60 * 60 * 24 * 7 * 2;\n  return fetch(`${BASE_URL}/coins/${coinId}/ohlcv/historical?start=${startDate}&end=${endDate}`).then(response => response.json());\n}","map":{"version":3,"sources":["/Users/youyeonchang/Desktop/portfolio/jusi/src/api.ts"],"names":["BASE_URL","COUNT","PAGE","ITEM","fetchStocks","fetch","then","response","json","res","body","items","item","fetchStockInfo","stockId","fetchStockHistory","endDate","Math","floor","Date","now","startDate","coinId"],"mappings":"AAAA,MAAMA,QAAQ,GAAI,yMAAlB;AACA,MAAMC,KAAK,GAAI,WAAf;AACA,MAAMC,IAAI,GAAI,QAAd;AACA,MAAMC,IAAI,GAAI,QAAd;AAEA,OAAO,SAASC,WAAT,GAAuB;AAC1B,SAAOC,KAAK,CAAE,GAAEL,QAAS,IAAGC,KAAM,OAAMC,IAAK,IAAjC,CAAL,CAA2CI,IAA3C,CAAiDC,QAAD,IACnDA,QAAQ,CAACC,IAAT,GAAgBF,IAAhB,CACKG,GAAD,IACAA,GAAG,CAACF,QAAJ,CAAaG,IAAb,CAAkBC,KAAlB,CAAwBC,IAF5B,CADG,CAAP;AAMH;AAED,OAAO,SAASC,cAAT,CAAwBC,OAAxB,EAAyC;AAC5C,SAAOT,KAAK,CAAE,GAAEL,QAAS,IAAGC,KAAM,OAAMC,IAAK,MAAKC,IAAI,GAAC,GAAL,GAASW,OAAQ,EAAvD,CAAL,CAA+DR,IAA/D,CAAqEC,QAAD,IACvEA,QAAQ,CAACC,IAAT,GAAgBF,IAAhB,CACKG,GAAD,IACAA,GAAG,CAACF,QAAJ,CAAaG,IAAb,CAAkBC,KAAlB,CAAwBC,IAAxB,CAA6B,CAA7B,CAFJ,CADG,CAAP;AAMH;AAED,OAAO,SAASG,iBAAT,CAA2BD,OAA3B,EAA4C;AAC/C,QAAME,OAAO,GAAGC,IAAI,CAACC,KAAL,CAAWC,IAAI,CAACC,GAAL,KAAa,IAAxB,CAAhB;AACA,QAAMC,SAAS,GAAGL,OAAO,GAAG,KAAK,EAAL,GAAU,EAAV,GAAe,CAAf,GAAmB,CAA/C;AACA,SAAOX,KAAK,CACT,GAAEL,QAAS,UAASsB,MAAO,2BAA0BD,SAAU,QAAOL,OAAQ,EADrE,CAAL,CAELV,IAFK,CAECC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EAFd,CAAP;AAGD","sourcesContent":["const BASE_URL = `https://api.odcloud.kr/api/GetStockSecuritiesInfoService/v1/getStockPriceInfo?resultType=json&serviceKey=GU%2FPw6QXvxX8rdXGsY9vDQWG3v8mr8imsKIAHd11KmEe0GOfu5NFoK4bv96cfhkwLKdy85VXG1mtXprIuY2HAw%3D%3D`;\nconst COUNT = `numOfRows`;\nconst PAGE = `pageNo`;\nconst ITEM = `isinCd`;\n\nexport function fetchStocks() {\n    return fetch(`${BASE_URL}&${COUNT}=20&${PAGE}=1`).then((response) => \n        response.json().then(\n            (res) => \n            res.response.body.items.item\n        )\n    )\n}\n\nexport function fetchStockInfo(stockId: string) {\n    return fetch(`${BASE_URL}&${COUNT}=20&${PAGE}=1&${ITEM+'='+stockId}`).then((response) => \n        response.json().then(\n            (res) => \n            res.response.body.items.item[0]\n        )\n    )\n}\n\nexport function fetchStockHistory(stockId: string) {\n    const endDate = Math.floor(Date.now() / 1000);\n    const startDate = endDate - 60 * 60 * 24 * 7 * 2;\n    return fetch(\n      `${BASE_URL}/coins/${coinId}/ohlcv/historical?start=${startDate}&end=${endDate}`\n    ).then((response) => response.json());\n  }"]},"metadata":{},"sourceType":"module"}